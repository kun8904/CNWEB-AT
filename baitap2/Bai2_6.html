<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Danh sách nhân sự</title>
  <link rel="stylesheet" href="bai2.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: left;
    }
    thead tr {
      background-color: #333;
      color: white;
    }
    tbody tr:nth-child(odd) {
      background-color: #f9f9f9;
    }
    tbody tr:nth-child(even) {
      background-color: #e6f2ff;
    }
    /* Hover effect */
    tbody tr:hover {
      background-color: #90ee90;
      cursor: pointer;
    }
    /* Row selected */
    .selected {
      background-color: yellow !important;
    }
  </style>
</head>
<body>
  <h2>Danh sách nhân sự</h2>
  <table id="employeeTable">
    <thead>
      <tr>
        <th><input type="checkbox" id="selectAll"></th>
        <th>Họ tên</th>
        <th>Ngày sinh</th>
        <th>Giới tính</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="checkbox" class="row-checkbox"></td>
        <td>Hoàng Thị Thảo</td>
        <td>23/6/1990</td>
        <td>Nữ</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="row-checkbox"></td>
        <td>Ngô Mạnh Quân</td>
        <td>14/4/1992</td>
        <td>Nam</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="row-checkbox"></td>
        <td>Nguyễn Thanh Tùng</td>
        <td>27/9/1991</td>
        <td>Nam</td>
      </tr>
      <tr>
        <td><input type="checkbox" class="row-checkbox"></td>
        <td>Hoàng Thị Ngân</td>
        <td>12/12/1992</td>
        <td>Nữ</td>
      </tr>
    </tbody>
  </table>

  <script>
    const selectAllCheckbox = document.getElementById('selectAll');
    const checkboxes = document.querySelectorAll('.row-checkbox');
    const rows = document.querySelectorAll('#employeeTable tbody tr');

    // chọn/bỏ chọn tất cả
    selectAllCheckbox.addEventListener('change', function () {
      checkboxes.forEach((cb, index) => {
        cb.checked = this.checked;
        updateRowHighlight(rows[index], cb.checked);
      });
    });

    // khi checkbox con thay đổi
    checkboxes.forEach((checkbox, index) => {
      checkbox.addEventListener('change', function () {
        updateRowHighlight(rows[index], this.checked);
        updateSelectAll();
      });
    });

    function updateSelectAll() {
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      selectAllCheckbox.checked = allChecked;
    }

    function updateRowHighlight(row, isChecked) {
      if (isChecked) {
        row.classList.add('selected');
      } else {
        row.classList.remove('selected');
      }
    }

    // click vào dòng cũng chọn checkbox
    rows.forEach((row, index) => {
      row.addEventListener('click', function (e) {
        if (e.target.type === 'checkbox') return;
        checkboxes[index].checked = !checkboxes[index].checked;
        updateRowHighlight(row, checkboxes[index].checked);
        updateSelectAll();
      });
    });
  </script>
</body>
</html>
